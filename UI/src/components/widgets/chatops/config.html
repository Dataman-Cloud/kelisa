<widget-modal widget-modal-title="Configure ChatOps Widget">
    <form name="configForm"
          ng-submit="chatOpsConfig.submit(configForm.$valid, chatOpsConfig.chatOpsOption, chatOpsConfig.chatOpsRoomAuthToken,chatOpsConfig.chatOpsServerUrl, chatOpsConfig.chatOpsRoomName)"
          novalidate="novalidate">

        <div class="form-group text-center"
             ng-class="{'has-error': configForm.roomName.$invalid && chatOpsConfig.submitted}">
            <label class="modal-label">聊天引擎</label> <select name="chatOpsOption"
                                                                   class="form-control"
                                                                   ng-model="chatOpsConfig.chatOpsOption"
                                                                   ng-options="chatOpsOption.value for chatOpsOption in chatOpsConfig.chatOpsOptions"
                                                                   required>
        </select>

            <p class="help-block"
               ng-if="configForm.collectorItemId.$error.required">请选择一个聊天室</p>
        </div>

        <div class="form-group clearfix"
             ng-class="{'has-error': configForm.chatOpsServerUrl.$invalid && chatOpsConfig.submitted}">
            <div class="col-sm-push-2 col-sm-8">
                <label class="modal-label">聊天室服务器URL</label> <input type="text"
                                                                             name="chatOpsServerUrl"
                                                                             class="form-control"
                                                                             ng-model="chatOpsConfig.chatOpsServerUrl"
                                                                             placeholder="Enter URL" required>

                <p class="help-block" ng-if="configForm.chatOpsServerUrl.$error.required">聊天室服务器URL为必填项</p>
            </div>
        </div>

        <div class="form-group clearfix"
             ng-class="{'has-error': configForm.chatOpsRoomName.$invalid && chatOpsConfig.submitted}">
            <div class="col-sm-push-2 col-sm-8">
                <label class="modal-label">房间名称</label> <input type="text"
                                                                          name="chatOpsRoomName"
                                                                          class="form-control"
                                                                          ng-model="chatOpsConfig.chatOpsRoomName"
                                                                          placeholder="Enter ChatOps Room Name" required>

                <p class="help-block" ng-if="configForm.chatOpsRoomName.$error.required">聊天服务器认证为必填项</p>
            </div>
        </div>

        <div class="form-group clearfix"
             ng-class="{'has-error': configForm.chatOpsRoomAuthToken.$invalid && chatOpsConfig.submitted}">
            <div class="col-sm-push-2 col-sm-8">
                <label class="modal-label">聊天室认证</label> <input type="password"
                                                                             name="chatOpsRoomAuthToken"
                                                                             class="form-control"
                                                                             ng-model="chatOpsConfig.chatOpsRoomAuthToken"
                                                                             placeholder="Enter ChatOps Room Auth Token" required>

                <p class="help-block" ng-if="configForm.chatOpsRoomAuthToken.$error.required">聊天室认证为必填项</p>
            </div>
        </div>


        <div class="button-row row text-center">
            <button type="submit" class="btn btn-primary btn-wide">保存</button>
        </div>
    </form>
</widget-modal>